<div class="row">
    <div class="col-lg-12">
        <div class="card">
            <div class="card-header bg-dark text-light">
                Add Restraurant User
            </div>
            <div class="container mt-2">
                <form
                    (ngSubmit)="saveUser()"
                    [formGroup]="userForm"
                    class="needs-validation"
                    novalidate
                >
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="name" class="required">Full Name</label>
                            <input
                                type="text"
                                class="form-control"
                                id="name"
                                formControlName="name"
                                [ngClass]="
                                    checkError('name', 'required')
                                        ? 'is-invalid'
                                        : ''
                                "
                                required
                            />
                            <div
                                class="invalid-feedback"
                                *ngIf="checkError('name', 'required')"
                            >
                                Full Name is required.
                            </div>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="phoneNumber" class="required"
                                >Phone Number</label
                            >
                            <input
                                type="text"
                                class="form-control"
                                id="phoneNumber"
                                formControlName="phoneNumber"
                                [ngClass]="{
                                    'is-invalid':
                                        checkError('phoneNumber', 'required') ||
                                        checkError(
                                            'phoneNumber',
                                            'invalidPhoneNumber'
                                        )
                                }"
                                required
                            />
                            <div class="invalid-feedback">
                                <div
                                    *ngIf="
                                        checkError('phoneNumber', 'required')
                                    "
                                >
                                    Phone Number is required.
                                </div>
                                <div
                                    *ngIf="
                                        checkError(
                                            'phoneNumber',
                                            'invalidPhoneNumber'
                                        )
                                    "
                                >
                                    Please enter a valid 10-digit Phone Number.
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-4">
                            <label for="email" class="required">UserId</label>
                            <input
                                type="email"
                                class="form-control"
                                id="email"
                                formControlName="email"
                                [ngClass]="{
                                    'is-invalid':
                                        checkError('email', 'required') ||
                                        checkError('email', 'email')
                                }"
                                required
                            />
                            <div class="invalid-feedback">
                                <div *ngIf="checkError('email', 'required')">
                                    Email is required.
                                </div>
                                <div *ngIf="checkError('email', 'email')">
                                    Please enter a valid email address.
                                </div>
                            </div>
                        </div>
                        <!-- add password field -->
                        <div class="form-group col-md-4">
                            <label for="password" class="required"
                                >Password</label
                            >
                            <div class="input-group">
                                <input
                                    type="{{
                                        showPassword ? 'text' : 'password'
                                    }}"
                                    class="form-control"
                                    id="password"
                                    formControlName="password"
                                    [ngClass]="{
                                        'is-invalid': checkError(
                                            'password',
                                            'required'
                                        )
                                    }"
                                    required
                                />
                                <div class="input-group-append">
                                    <button
                                        class="btn btn-outline-secondary"
                                        type="button"
                                        id="show-hide-btn"
                                        (click)="togglePasswordVisibility()"
                                    >
                                        {{ showPassword ? "Show" : "Hide" }}
                                    </button>
                                </div>
                               
                            </div>
                            <div
                                class="invalid-feedback"
                                *ngIf="checkError('password', 'required')"
                            >
                                Password is required.
                            </div>
                        </div>

                        <div class="form-group col-md-4">
                            <label for="role" class="required">Role</label>
                            <ng-select
                                [items]="roles"
                                bindLabel="name"
                                bindValue="id"
                                placeholder="Select Role"
                                formControlName="role"
                                [ngClass]="{
                                    'is-invalid': checkError('role', 'required')
                                }"
                                required
                            >
                            </ng-select>
                            <div
                                class="invalid-feedback"
                                *ngIf="checkError('role', 'required')"
                            >
                                Role is required.
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <button type="submit" class="btn btn-primary">
                            Save
                        </button>
                        <button
                            type="button"
                            class="btn btn-secondary"
                            (click)="resetForm()"
                        >
                            Clear
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
